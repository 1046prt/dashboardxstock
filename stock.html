<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Watchlist | StockVision</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="/assets/styles/stock.css" />
  </head>
  <body>
    <!-- Header -->
    <header>
      <div class="container header-container">
        <div class="logo">
          <i class="fas fa-chart-line"></i>
          <h1>StockVision</h1>
        </div>
        <button class="mobile-menu-btn" id="mobileMenuBtn">
          <i class="fas fa-bars"></i>
        </button>
        <nav id="mainNav">
          <ul>
            <li>
              <a href="index.html"><i class="fas fa-home"></i> Home</a>
            </li>
            <li>
              <a href="stock.html"><i class="fas fa-chart-bar"></i> Stocks</a>
            </li>
            <li>
              <a href="watchlist.html" class="active"
                ><i class="fas fa-star"></i> Watchlist</a
              >
            </li>
            <li>
              <a href="news.html"><i class="fas fa-newspaper"></i> News</a>
            </li>
            <li>
              <a href="#about"><i class="fas fa-info-circle"></i> About</a>
            </li>
            <li>
              <a href="#contact"><i class="fas fa-envelope"></i> Contact</a>
            </li>
            <li>
              <a href="login.html" class="btn-login"
                ><i class="fas fa-sign-in-alt"></i> Login</a
              >
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- Watchlist Content -->
    <section class="watchlist-header">
      <div class="container">
        <h2>My Watchlist</h2>
        <p>
          Track your favorite stocks and monitor their performance in one place.
        </p>
      </div>
    </section>

    <div class="container">
      <!-- Empty State -->
      <!-- <div class="watchlist-empty">
      <i class="far fa-star"></i>
      <h3>Your Watchlist is Empty</h3>
      <p>Start building your watchlist by adding stocks you want to track. Click the star icon on any stock to add it here.</p>
      <button class="btn-primary">Browse Stocks</button>
    </div> -->

      <!-- Performance Section -->
      <div class="performance-section">
        <div class="performance-header">
          <h3>Watchlist Performance</h3>
          <div class="time-filters">
            <button class="time-filter active">1D</button>
            <button class="time-filter">1W</button>
            <button class="time-filter">1M</button>
            <button class="time-filter">3M</button>
            <button class="time-filter">1Y</button>
            <button class="time-filter">All</button>
          </div>
        </div>
        <div class="performance-stats">
          <div class="stat-card">
            <div class="stat-value positive">+3.24%</div>
            <div class="stat-label">Today's Return</div>
          </div>
          <div class="stat-card">
            <div class="stat-value positive">+12.56%</div>
            <div class="stat-label">1 Month Return</div>
          </div>
          <div class="stat-card">
            <div class="stat-value positive">+34.78%</div>
            <div class="stat-label">YTD Return</div>
          </div>
          <div class="stat-card">
            <div class="stat-value positive">+56.23%</div>
            <div class="stat-label">1 Year Return</div>
          </div>
        </div>
        <div class="performance-chart">
          <canvas id="performanceChart"></canvas>
        </div>
      </div>

      <!-- Watchlist Grid -->
      <div class="watchlist-grid">
        <div class="watchlist-card">
          <div class="stock-header">
            <div class="stock-info">
              <img
                src="https://logo.clearbit.com/nvidia.com"
                alt="NVIDIA"
                class="stock-logo"
              />
              <div class="stock-details">
                <h4>NVDA</h4>
                <p>NVIDIA Corp.</p>
              </div>
            </div>
            <button class="remove-btn"><i class="fas fa-times"></i></button>
          </div>
          <div class="stock-price">$985.64</div>
          <div class="stock-change positive">
            <i class="fas fa-caret-up"></i> $49.12 (+5.24%)
          </div>
          <div class="chart-container">
            <canvas id="chartNVDA"></canvas>
          </div>
        </div>
        <div class="watchlist-card">
          <div class="stock-header">
            <div class="stock-info">
              <img
                src="https://logo.clearbit.com/tesla.com"
                alt="Tesla"
                class="stock-logo"
              />
              <div class="stock-details">
                <h4>TSLA</h4>
                <p>Tesla Inc.</p>
              </div>
            </div>
            <button class="remove-btn"><i class="fas fa-times"></i></button>
          </div>
          <div class="stock-price">$230.89</div>
          <div class="stock-change positive">
            <i class="fas fa-caret-up"></i> $8.45 (+3.80%)
          </div>
          <div class="chart-container">
            <canvas id="chartTSLA"></canvas>
          </div>
        </div>
        <div class="watchlist-card">
          <div class="stock-header">
            <div class="stock-info">
              <img
                src="https://logo.clearbit.com/apple.com"
                alt="Apple"
                class="stock-logo"
              />
              <div class="stock-details">
                <h4>AAPL</h4>
                <p>Apple Inc.</p>
              </div>
            </div>
            <button class="remove-btn"><i class="fas fa-times"></i></button>
          </div>
          <div class="stock-price">$185.60</div>
          <div class="stock-change positive">
            <i class="fas fa-caret-up"></i> $1.45 (+0.79%)
          </div>
          <div class="chart-container">
            <canvas id="chartAAPL"></canvas>
          </div>
        </div>
        <div class="watchlist-card">
          <div class="stock-header">
            <div class="stock-info">
              <img
                src="https://logo.clearbit.com/microsoft.com"
                alt="Microsoft"
                class="stock-logo"
              />
              <div class="stock-details">
                <h4>MSFT</h4>
                <p>Microsoft Corp.</p>
              </div>
            </div>
            <button class="remove-btn"><i class="fas fa-times"></i></button>
          </div>
          <div class="stock-price">$312.45</div>
          <div class="stock-change positive">
            <i class="fas fa-caret-up"></i> $3.28 (+1.06%)
          </div>
          <div class="chart-container">
            <canvas id="chartMSFT"></canvas>
          </div>
        </div>
        <div class="watchlist-card">
          <div class="stock-header">
            <div class="stock-info">
              <img
                src="https://logo.clearbit.com/google.com"
                alt="Google"
                class="stock-logo"
              />
              <div class="stock-details">
                <h4>GOOGL</h4>
                <p>Alphabet Inc.</p>
              </div>
            </div>
            <button class="remove-btn"><i class="fas fa-times"></i></button>
          </div>
          <div class="stock-price">$135.76</div>
          <div class="stock-change positive">
            <i class="fas fa-caret-up"></i> $2.34 (+1.75%)
          </div>
          <div class="chart-container">
            <canvas id="chartGOOGL"></canvas>
          </div>
        </div>
        <div class="watchlist-card">
          <div class="stock-header">
            <div class="stock-info">
              <img
                src="https://logo.clearbit.com/meta.com"
                alt="Meta"
                class="stock-logo"
              />
              <div class="stock-details">
                <h4>META</h4>
                <p>Meta Platforms</p>
              </div>
            </div>
            <button class="remove-btn"><i class="fas fa-times"></i></button>
          </div>
          <div class="stock-price">$330.12</div>
          <div class="stock-change positive">
            <i class="fas fa-caret-up"></i> $9.25 (+2.89%)
          </div>
          <div class="chart-container">
            <canvas id="chartMETA"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="footer-content">
          <div class="footer-col">
            <h4>StockVision</h4>
            <p>
              Advanced market analytics platform providing real-time data,
              powerful visualization tools, and comprehensive analysis for
              informed investment decisions.
            </p>
          </div>
          <div class="footer-col">
            <h4>Quick Links</h4>
            <ul class="footer-links">
              <li><a href="index.html">Home</a></li>
              <li><a href="stocks.html">Stocks</a></li>
              <li><a href="watchlist.html">Watchlist</a></li>
              <li><a href="news.html">News</a></li>
              <li><a href="#about">About</a></li>
            </ul>
          </div>
          <div class="footer-col">
            <h4>Resources</h4>
            <ul class="footer-links">
              <li><a href="#">Market Data</a></li>
              <li><a href="#">Research Tools</a></li>
              <li><a href="#">Learning Center</a></li>
              <li><a href="#">API Documentation</a></li>
              <li><a href="#">Help Center</a></li>
            </ul>
          </div>
          <div class="footer-col">
            <h4>Legal</h4>
            <ul class="footer-links">
              <li><a href="#">Terms of Service</a></li>
              <li><a href="#">Privacy Policy</a></li>
              <li><a href="#">Cookie Policy</a></li>
              <li><a href="#">GDPR Compliance</a></li>
              <li><a href="#">Disclosures</a></li>
            </ul>
          </div>
        </div>
        <div class="footer-bottom">
          <p>
            &copy; 2025 StockVision. All rights reserved. | Designed and
            Developed by Prakash Raj
          </p>
        </div>
      </div>
    </footer>

    <script>
      // Mobile Menu Toggle
      const mobileMenuBtn = document.getElementById("mobileMenuBtn");
      const mainNav = document.getElementById("mainNav");

      mobileMenuBtn.addEventListener("click", () => {
        mainNav.classList.toggle("active");
      });

      // Time Filters
      const timeFilters = document.querySelectorAll(".time-filter");

      timeFilters.forEach((filter) => {
        filter.addEventListener("click", () => {
          timeFilters.forEach((f) => f.classList.remove("active"));
          filter.classList.add("active");
          // Here you would update the chart data based on the selected time period
        });
      });

      // Remove Stock from Watchlist
      const removeBtns = document.querySelectorAll(".remove-btn");

      removeBtns.forEach((btn) => {
        btn.addEventListener("click", (e) => {
          const card = e.target.closest(".watchlist-card");
          card.style.opacity = "0";
          setTimeout(() => {
            card.remove();
            // Check if watchlist is empty and show empty state
            if (document.querySelectorAll(".watchlist-card").length === 0) {
              document.querySelector(".watchlist-grid").innerHTML = `
              <div class="watchlist-empty">
                <i class="far fa-star"></i>
                <h3>Your Watchlist is Empty</h3>
                <p>Start building your watchlist by adding stocks you want to track. Click the star icon on any stock to add it here.</p>
                <button class="btn-primary">Browse Stocks</button>
              </div>
            `;
            }
          }, 300);
        });
      });

      // Performance Chart
      const performanceCtx = document
        .getElementById("performanceChart")
        .getContext("2d");
      const performanceChart = new Chart(performanceCtx, {
        type: "line",
        data: {
          labels: [
            "Jan",
            "Feb",
            "Mar",
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Oct",
            "Nov",
            "Dec",
          ],
          datasets: [
            {
              label: "Watchlist Performance",
              data: [
                100, 105, 110, 115, 120, 125, 130, 135, 140, 145, 150, 156.23,
              ],
              borderColor: "#4361ee",
              backgroundColor: "rgba(67, 97, 238, 0.1)",
              tension: 0.3,
              fill: true,
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false,
            },
          },
          scales: {
            y: {
              beginAtZero: false,
            },
          },
        },
      });

      // Mini Charts for Watchlist Cards
      function createMiniChart(canvasId, data, color) {
        const ctx = document.getElementById(canvasId).getContext("2d");
        return new Chart(ctx, {
          type: "line",
          data: {
            labels: ["", "", "", "", "", ""],
            datasets: [
              {
                data: data,
                borderColor: color,
                borderWidth: 2,
                pointRadius: 0,
                tension: 0.3,
                fill: false,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: false,
              },
            },
            scales: {
              x: {
                display: false,
              },
              y: {
                display: false,
              },
            },
          },
        });
      }

      // Create mini charts for each stock
      createMiniChart("chartNVDA", [90, 92, 94, 96, 98, 100], "#4cc9f0");
      createMiniChart("chartTSLA", [85, 88, 90, 92, 95, 100], "#4cc9f0");
      createMiniChart("chartAAPL", [92, 94, 95, 96, 98, 100], "#4cc9f0");
      createMiniChart("chartMSFT", [88, 90, 92, 94, 96, 100], "#4cc9f0");
      createMiniChart("chartGOOGL", [90, 92, 94, 95, 97, 100], "#4cc9f0");
      createMiniChart("chartMETA", [85, 88, 90, 93, 96, 100], "#4cc9f0");
    </script>
  </body>
</html>
